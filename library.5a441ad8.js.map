{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCEMC,GAFNF,EAAAC,EAAA,SAEiB,CACfE,WAAYC,SAASC,cAAc,kCACnCC,SAAUF,SAASC,cAAc,gCACjCE,iBAAkBH,SAASC,cAAc,wBAGpC,SAASG,EAAeC,GAED,WAA1BA,EAAMC,OAAOC,UACoB,YAAjCF,EAAMC,OAAOE,QAAQC,SAErBX,EAASC,WAAWW,UAAUC,IAAI,eAClCb,EAASI,SAASQ,UAAUE,OAAO,eACnChB,EAAAiB,KAAKC,mBAAmB,eAAgB,kBAEd,WAA1BT,EAAMC,OAAOC,UACoB,UAAjCF,EAAMC,OAAOE,QAAQC,UAErBX,EAASC,WAAWW,UAAUE,OAAO,eACrCd,EAASI,SAASQ,UAAUC,IAAI,eAChCf,EAAAiB,KAAKC,mBAAmB,aAAc,mB,yDDZpCC,EAAU,CACdZ,iBAAkBH,SAASC,cAAc,uBAG3Ce,OAAOC,iBAAiB,QAAQ,WAC9BF,EAAQZ,iBAAiBc,iBAAiB,QAASb,GACV,OAArCc,aAAaC,QAAQ,aACvBvB,EAAAiB,KAAKO,uBACHC,KAAKC,MAAMJ,aAAaC,QAAQ,aAAaI,UAE/CvB,SAASC,cAAc,iBAAiBS,UAAUc,SAAS,eACvD5B,EAAAiB,KAAKC,mBAAmB,eAAgB,iBACxClB,EAAAiB,KAAKC,mBAAmB,aAAc,oBAC3B,EAAfW,EAAAC,0BACA,EAAAD,EAAAE,8BAEA/B,EAAAiB,KAAKC,mBAAmB,eAAgB,gB,KAI5C,EAAAc,EAAAC,U","sources":["src/library.js","src/js/utils/libBtnSwitch.js"],"sourcesContent":["import { Film } from './js/film/film';\nimport { libBtnsHandler } from './js/utils/libBtnSwitch';\nimport { openModal, closeModal } from './js/authorization-modal';\nimport {\n  renderCurrentUserName,\n  addEventListenerOnExitBtn,\n} from './js/utils/authentefication';\nimport './js/modal-form';\nimport scrollToTop from './js/utils/scrollToTop';\n\nconst libRefs = {\n  libBtnsContainer: document.querySelector('.library__btn-list'),\n};\n\nwindow.addEventListener('load', () => {\n  libRefs.libBtnsContainer.addEventListener('click', libBtnsHandler);\n  if (localStorage.getItem('userData') !== null) {\n    Film.setCurrentUserFilmList(\n      JSON.parse(localStorage.getItem('userData')).userName\n    );\n    document.querySelector('.library__btn').classList.contains('active__btn')\n      ? Film.renderWatchedFilms('watchedFilms', 'просмотренных')\n      : Film.renderWatchedFilms('queueFilms', 'запланированных');\n    renderCurrentUserName();\n    addEventListenerOnExitBtn();\n  } else {\n    Film.renderWatchedFilms('watchedFilms', 'просмотренных');\n  }\n});\n\nscrollToTop();","import { Film } from '../film/film';\n\nconst lib_refs = {\n  watchedBtn: document.querySelector('button[data-library=\"watched\"]'),\n  queueBtn: document.querySelector('button[data-library=\"queue\"]'),\n  libBtnsContainer: document.querySelector('.library__btn-list'),\n};\n\nexport function libBtnsHandler(event) {\n  if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.dataset.library === 'watched'\n  ) {\n    lib_refs.watchedBtn.classList.add('active__btn');\n    lib_refs.queueBtn.classList.remove('active__btn');\n    Film.renderWatchedFilms('watchedFilms', 'просмотренных');\n  } else if (\n    event.target.nodeName === 'BUTTON' &&\n    event.target.dataset.library === 'queue'\n  ) {\n    lib_refs.watchedBtn.classList.remove('active__btn');\n    lib_refs.queueBtn.classList.add('active__btn');\n    Film.renderWatchedFilms('queueFilms', 'запланированных');\n  }\n}\n\n// export function renderWatchedFilms(filmGroup, rewWords) {\n//   const films = getFilmsFromLocalStorage(filmGroup);\n//   const list = films.length\n//     ? films.map(createOneFilmCard()).join('')\n//     : `<p style=\"text-align: center;\">У вас ещё нету ${rewWords} фильмов :(</p>`;\n//   lib_refs.libFilmsContainer.innerHTML = list;\n// }\n\n// function getFilmsFromLocalStorage(filmGroup) {\n//   return JSON.parse(localStorage.getItem(`${filmGroup}-films`) || '[]');\n// }\n"],"names":["$lJO36","parcelRequire","$05fd269b9b2fe731$var$lib_refs","watchedBtn","document","querySelector","queueBtn","libBtnsContainer","$05fd269b9b2fe731$export$73c8f1a053a61ae4","event","target","nodeName","dataset","library","classList","add","remove","Film","renderWatchedFilms","$cecbdd76f2d3d4bd$var$libRefs","window","addEventListener","localStorage","getItem","setCurrentUserFilmList","JSON","parse","userName","contains","$3dbg1","renderCurrentUserName","addEventListenerOnExitBtn","$dmvdd","default"],"version":3,"file":"library.5a441ad8.js.map"}